<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PRTU Dashboard</title>
  <script src="http://localhost:11100/mfs100.js"></script>
  <style>
    body, h1, h2, input, button, video, canvas { margin: 0; padding: 0; font-family: Arial, sans-serif; }
    body { background: #f2f2f2; font-size: 14px; line-height: 1.4; }
    header { background: #003366; color: #fff; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; }
    header h1 { font-size: 18px; }
    header button { background: #ff4444; border: none; padding: 5px 12px; color: #fff; border-radius: 4px; cursor: pointer; }
    nav { display: flex; background: #ddd; }
    nav button { flex: 1; padding: 8px; border: none; font-size: 13px; cursor: pointer; background: #bbb; }
    nav button.active { background: #003366; color: #fff; }
    main { padding: 10px; }
    .tab { display: none; }
    .tab.active { display: block; }
    .section { background: #fff; border: 1px solid #ccc; border-radius: 6px; padding: 12px; margin-bottom: 12px; }
    .section h2 { margin-bottom: 8px; color: #004080; }
    .field-group { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 8px; }
    .field-group label { flex: 0 0 140px; font-weight: bold; }
    .field-group input { flex: 1; padding: 6px; font-size: 14px; border: 1px solid #ccc; border-radius: 4px; }
    .capture-row { display: flex; gap: 12px; margin-top: 8px; }
    .capture-block { background: #fafafa; padding: 8px; border: 1px solid #ddd; border-radius: 4px; flex: 1; text-align: center; }
    .capture-block video, .capture-block img, .capture-block canvas { width: 100%; max-height: 180px; border-radius: 4px; }
    .capture-block button { margin-top: 6px; padding: 6px 10px; border: none; background: #004080; color: #fff; border-radius: 4px; cursor: pointer; }
    .capture-block button:hover { background: #0066cc; }
    .action-row { text-align: right; margin-top: 12px; }
    .action-row button { padding: 8px 14px; margin-left: 8px; font-size: 14px; border: none; border-radius: 4px; cursor: pointer; }
    .btn-save { background: #28a745; color: #fff; }
    .btn-clear { background: #dc3545; color: #fff; }
  </style>
</head>
<body>
  <header>
    <h1>PRTU Dashboard</h1>
    <button onclick="logout()">Logout</button>
  </header>
  <nav>
    <button class="active" onclick="switchTab('formTab', this)">Fill Sale Deed</button>
    <button onclick="switchTab('logsTab', this)">View Saved</button>
  </nav>
  <main>
    <!-- Data Entry Tab -->
    <div id="formTab" class="tab active">
      <!-- Metadata -->
      <div class="section">
        <h2>Document Metadata</h2>
        <div class="field-group"><label>Document Number:</label><input id="documentNumberTop" placeholder="Document Number"/></div>
        <div class="field-group"><label>Notary Reg. Sr. No.:</label><input id="notarySrNoTop" placeholder="Notary Registered Sr. No."/></div>
        <div class="field-group"><label>Type of Document:</label><input id="documentTypeTop" placeholder="Type of Document"/></div>
      </div>
      <!-- Purchaser -->
      <div class="section">
        <h2>Executing Parties â€” Purchaser</h2>
        <div class="field-group"><label>Name:</label><input id="purchaserName" placeholder="Full Name"/></div>
        <div class="field-group"><label>Age:</label><input id="purchaserAge" type="number"/></div>
        <div class="field-group"><label>Occupation:</label><input id="purchaserOccupation"/></div>
        <div class="field-group"><label>Residing At:</label><input id="purchaserAddress" placeholder="Address"/></div>
        <div class="field-group"><label>Contact No.:</label><input id="purchaserContact"/></div>
        <div class="field-group"><label>Identification:</label><input id="purchaserIdNumber"/></div>
        <div class="capture-row">
          <div class="capture-block">
            <strong>Photo</strong>
            <video id="videoP" autoplay muted playsinline onclick="takePhoto('P')"></video>
            <canvas id="canvasP" style="display:none"></canvas>
            <button onclick="showVideo('P')">Capture Photo</button>
          </div>
          <div class="capture-block">
            <strong>Thumb Impression</strong>
            <button onclick="captureFingerprint('P')">Capture Thumb</button>
            <img id="thumbP" style="display:none; margin-top:6px;"/>
          </div>
        </div>
      </div>
      <!-- Seller and Witness sections similarly... -->
      <!-- Document Details -->
      <div class="section">
        <h2>Document Details</h2>
        <div class="field-group"><label>Schedule of Property:</label><input id="scheduleOfProperty" placeholder="..."/></div>
        <div class="field-group"><label>Consideration:</label><input id="consideration" placeholder="..."/></div>
      </div>
      <div class="action-row">
        <button class="btn-clear" onclick="clearForm()">Clear</button>
        <button class="btn-save" onclick="saveSaleDeed()">Save Sale Deed</button>
      </div>
    </div>

    <!-- View Saved Tab -->
    <div id="logsTab" class="tab">
      <h2>Saved Documents</h2>
      <button onclick="window.location.href='users.html'">View Saved</button>
    </div>
  </main>

  <script>
    function switchTab(tabId, btn) {
      document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
      document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
      document.getElementById(tabId).classList.add('active');
      btn.classList.add('active');
    }
    function logout(){ window.location.href='login.html'; }
    function clearForm(){ /* reset inputs & canvases */ }
    async function saveSaleDeed(){ /* gather payload & POST /add-user */ }
    function takePhoto(role){ /* capture photo to canvas */ }
    function showVideo(role){ /* toggle canvas */ }
    function captureFingerprint(role){ /* SDK call */ }
  </script>
</body>
</html>
